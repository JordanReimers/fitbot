{"ts":1358959708126,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1358959544819,"patch":[[{"diffs":[[1,"# encoding: utf-8\r\n\r\nclass Translate\r\n    include Cinch::Plugin\r\n\r\n\tmatch /t(?:r(?:anslate)?)? ([a-zA-Z-]{2,6}) ([a-zA-Z-]{2,6}) (.*)/iu\r\n\r\n\tdef execute(m, from, to, message)\r\n\t\treturn unless ignore_nick(m.user.nick).nil?\r\n\r\n\t\tbegin\r\n\t\t\turl = open(\"http://api.microsofttranslator.com/V2/Ajax.svc/Translate?appId=#{$BINGAPI}&from=#{from}&to=#{to}&text=#{CGI.escape(message)}\").read\r\n\t\t\turl = url[1..url.length] # cut off some weird character at the start of the string\r\n\r\n\t\t\tif url.include? \"ArgumentOutOfRangeException\" and url.include? \"'from'\"\r\n\t\t\t\tm.reply \"Translate \u000311|\u0003 '#{from}' is not a supported language code \u000311|\u0003 #{$BOTURL}#translate\"\r\n\t\t\telsif url.include? \"ArgumentOutOfRangeException\" and url.include? \"'to'\"\r\n\t\t\t\tm.reply \"Translate \u000311|\u0003 '#{to}' is not a supported language code \u000311|\u0003 #{$BOTURL}#translate\"\r\n\t\t\telse\r\n\t\t\t\tm.reply \"Translate \u000311|\u0003 #{from} => #{to} \u000311|\u0003 #{url}\"\r\n\t\t\tend\r\n\t\trescue\r\n\t\t\tm.reply \"Translate \u000311|\u0003 Error: Could not get translation\"\r\n\t\tend\r\n\tend\r\nend"]],"start1":0,"start2":0,"length1":0,"length2":991}]],"length":991,"saved":false}
