{"ts":1358959985678,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1358959810898,"patch":[[{"diffs":[[1,"require 'data_mapper'\r\n\r\n\r\nDBFILE = \"/path/to/sqlite.db\"\r\nDataMapper.setup(:default, \"sqlite3://\" + DBFILE)\r\n\r\n\r\nclass LastfmDB \r\n    include DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:nick, String, :unique => true)\r\n\tproperty(:username, String)\r\nend \r\n\r\nclass IgnoreDB\r\n\tinclude DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:nick, String, :unique => true)\r\nend \r\n\r\nclass LocationDB \r\n\tinclude DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:nick, String, :unique => true)\r\n\tproperty(:location, String)\r\nend \r\n\r\nclass PassiveDB\r\n\tinclude DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:channel, String, :unique => true)\r\nend \r\n\r\nclass PassiveFDB\r\n\tinclude DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:channel, String, :unique => true)\r\nend \r\n\r\nclass JoinDB\r\n\tinclude DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:channel, String, :unique => true)\r\nend \r\n\r\nclass AdminDB\r\n\tinclude DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:nick, String, :unique => true)\r\nend \r\n\r\nclass InsultDB \r\n\tinclude DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:insult, Text)\r\nend \r\n\r\nclass GreenText\r\n\tinclude DataMapper::Resource\r\n\tproperty(:id, Serial)\r\n\tproperty(:text, Text)\r\nend \r\n\r\n# If database doesn't exist, create. Else update\r\nif(!File.exists?(DBFILE))\r\n\tDataMapper.auto_migrate!\r\nelsif(File.exists?(DBFILE))\r\n\tDataMapper.auto_upgrade!\r\nend"]],"start1":0,"start2":0,"length1":0,"length2":1416}]],"length":1416,"saved":false}
{"contributors":[],"silentsave":false,"ts":1358960415885,"patch":[[{"diffs":[[0,"apper'\r\n"],[1,"require 'dm-migrations'\r\n"],[0,"\r\n\r\nDBFI"]],"start1":15,"start2":15,"length1":16,"length2":41}]],"length":1441,"saved":false}
{"ts":1358960748116,"patch":[[{"diffs":[[0,"end \r\n\r\n"],[1,"DataMapper.finalize\r\n\r\n"],[0,"# If dat"]],"start1":1270,"start2":1270,"length1":16,"length2":39}]],"length":1464,"saved":false}
{"ts":1358961006030,"patch":[[{"diffs":[[0," = \""],[-1,"/path/to"],[1,"."],[0,"/sql"]],"start1":58,"start2":58,"length1":16,"length2":9}]],"length":1457,"saved":false}
{"ts":1358961398048,"patch":[[{"diffs":[[0,"te.db\"\r\n"],[1,"#"],[0,"DataMapp"]],"start1":68,"start2":68,"length1":16,"length2":17}]],"length":1458,"saved":false}
